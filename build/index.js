!function(){"use strict";var t=window.wp.element,e=window.wp.blockEditor,l=window.wp.components;wp.blocks.registerBlockType("ourplugin/featured-mppl-list",{title:"Featured MPPL List",description:"Include a list from our lists and suggestions system",icon:"welcome-learn-more",category:"common",attributes:{listId:{type:"string"},adultListsLoaded:{type:"string"},adultLists:{type:"array"},teenListsLoaded:{type:"string"},teenLists:{type:"array"},youthListsLoaded:{type:"string"},youthLists:{type:"array"},backgroundColor:{type:"string",default:"#FFFFFF"},columns:{type:"number",default:4}},edit:function(s){function n(t){let e=async function(t){const e=await fetch(`https://mppl.org/list_system/api.php/${t}`);if(!e.ok){const t=`An error has occurred: ${e.status}`;throw new Error(t)}return await e.json()}(t);return e}function a(t,e){return wp.element.createElement("option",{value:t+"/"+e.list_name},e.list_name+" - "+e.category)}null==s.attributes.adultLists&&n("adultlists").then((t=>{s.setAttributes({adultLists:t}),s.setAttributes({adultListsLoaded:"loaded"})})),null==s.attributes.teenLists&&n("teenlists").then((t=>{s.setAttributes({teenLists:t}),s.setAttributes({teenListsLoaded:"loaded"})})),null==s.attributes.youthLists&&n("youthlists").then((t=>{s.setAttributes({youthLists:t}),s.setAttributes({youthListsLoaded:"loaded"})}));let i=function(t){for(var e="",l="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz",s=l.length,n=0;n<5;n++)e+=l.charAt(Math.floor(Math.random()*s));return e}();return"loaded"==s.attributes.adultListsLoaded&&"loaded"==s.attributes.teenListsLoaded&&"loaded"==s.attributes.youthListsLoaded?(0,t.createElement)("div",{className:"featured-mppl-list-wrapper",style:{backgroundColor:s.attributes.backgroundColor}},(0,t.createElement)(e.InspectorControls,null,(0,t.createElement)(l.PanelBody,{title:"Columns",initialOpen:!0},(0,t.createElement)(l.PanelRow,null,(0,t.createElement)(l.RangeControl,{label:"Choose number of columns",value:s.attributes.columns,onChange:t=>s.setAttributes({columns:t}),min:1,max:4}))),(0,t.createElement)(l.PanelBody,{title:"Background Color",initialOpen:!0},(0,t.createElement)(l.PanelRow,null,(0,t.createElement)(l.ColorPicker,{color:s.attributes.backgroundColor,onChangeComplete:t=>s.setAttributes({backgroundColor:t.hex})})))),(0,t.createElement)("div",{onChange:t=>function(t,e){let l=document.querySelectorAll("."+e);for(let e=0;e<l.length;e++)l[e].classList.add("hidden"),l[e].classList.contains(t.target.id)&&l[e].classList.remove("hidden");console.log(l),console.log(e),console.log(t)}(t,i)},(0,t.createElement)("input",{type:"radio",id:"adult_list",name:i,value:"adult_list"}),(0,t.createElement)("label",{for:"adult_list"},"Adult List"),(0,t.createElement)("br",null),(0,t.createElement)("input",{type:"radio",id:"teen_list",name:i,value:"teen_list"}),(0,t.createElement)("label",{for:"teen_list"},"Teen List"),(0,t.createElement)("br",null),(0,t.createElement)("input",{type:"radio",id:"youth_list",name:i,value:"youth_list"}),(0,t.createElement)("label",{for:"youth_list"},"Youth List"),(0,t.createElement)("br",null)),(0,t.createElement)("div",{className:`${i} adult_list list-select-container hidden`},(0,t.createElement)("select",{onChange:t=>{s.setAttributes({listId:t.target.value})}},(0,t.createElement)("option",{disable:"true",selected:"true",value:"none"},"Choose an Adult list"),s.attributes.adultLists.map((function(t){return a("adultlists",t)})))),(0,t.createElement)("div",{className:`${i} teen_list list-select-container hidden`},(0,t.createElement)("select",{onChange:t=>{s.setAttributes({listId:t.target.value})}},(0,t.createElement)("option",{disable:"true",selected:"true",value:"none"},"Choose an Teen list"),s.attributes.teenLists.map((function(t){return a("teenlists",t)})))),(0,t.createElement)("div",{className:`${i} youth_list list-select-container hidden`},(0,t.createElement)("select",{onChange:t=>{s.setAttributes({listId:t.target.value})}},(0,t.createElement)("option",{disable:"true",selected:"true",value:"none"},"Choose an Youth list"),s.attributes.youthLists.map((function(t){return a("youthlists",t)})))),(0,t.createElement)("h2",{className:"list-name-in-editor"},"Display the list: ",(0,t.createElement)("strong",null,s.attributes.listId))):(0,t.createElement)("p",null,"Loading ...")},save:function(){return null}})}();